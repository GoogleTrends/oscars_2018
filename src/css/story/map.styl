.map
	position relative
	svg
		.region
			fill none
			stroke $off-white
			stroke-width 0.5px
			stroke-opacity 0.25
			cursor pointer
	
	.map__intro, .map__outro
		max-width 40rem
		margin 0 auto
		padding 0 1rem

		mark
			background-color $gray-light
			border-bottom 2px solid $gray-dark
			padding 0 0.5em
	.map__ui
		display flex
		justify-content center
		align-items flex-end
		.ui__control
			width 1.5rem
			height 1.5rem
			background-color $gray-light
			position relative
			margin-left 1.5rem
			border-radius 1rem
			cursor pointer
			span
				position absolute
				display block
				top 50%
				left 50%
				width 67%
				height 67%
				transform translate(-50%, -50%)
				display none
				&.is-selected
					display block

			svg
				width 100%
				height 100%
				stroke $gray-dark

			.feather-play
				transform translateX(12.5%)

		ul.past
			display flex
			width 5rem
			justify-content space-around
			
		
		ul.timeline
			display flex
			width auto
			justify-content space-around
		
		li
			width auto
			text-align center
			margin 0 0.25em
			line-height 1
			cursor pointer
			user-select none

		.rect
			display inline-block
			width 1.5rem
			margin 0 auto
			height 0.5rem
			background-color $gray-light
			line-height 1
			// vertical-align top
		
		.label
			margin 0
			padding 0
			line-height 1.2
			set-type-size('xx-small', false)
			font-weight 500
			color $gray-light
			text-transform uppercase
		.is-selected
			.label
				color $gray-dark
			.rect
				background-color $gray-dark
	
	.map__key
		max-width 69rem
		margin 1rem auto
		padding 0 1rem
		ul
			display flex
			flex-wrap wrap
			justify-content center
		li
			position relative			
			margin-right 1rem
			margin-bottom 0.5rem
			set-type-size(x-small, true)
			cursor pointer
			font-weight 500
			&.is-selected
				.bg
					height 100%
		.bg
			display block
			position absolute
			bottom 0
			left 0
			height 0
			width 100%
			transition 250ms ease-in-out
			z-index 0
		.fg
			padding 0 0.5rem
			display inline-block
			position relative
			z-index 1
			border-bottom 3px solid currentColor


	.map__graphic
		// display flex
		position relative
	
	.graphic__chart
		width 100%
		position relative
		+mq('bp-4')
			min-height 480px

	.graphic__info
		width 272px
		position absolute
		top 0
		left 0
		padding 1rem
		background-color rgba($off-white, 0.5)
		transition transform 500ms ease-in-out
		&.is-hidden
			transform translateX(-272px)
	
	.info__trailer
		background-color $off-black
		iframe 
			display block
	.info__toggle
		position absolute
		bottom 0
		right 0
		transform translateX(100%)
		background-color rgba($off-white, 0.5)
		cursor pointer
		p
			margin 0
			text-transform uppercase
			padding 0 0.5em
			font-weight 500
			color $gray-dark
			text-shadow 0 0 3px #fff
	.info__words
		margin-top 0.5rem
		p
			margin 0
			text-transform uppercase
			text-align center
			color $gray-dark
			font-weight 500
			text-shadow 0 0 3px #fff
		li
			text-align center
			margin 0.5rem 0
			line-height 1
		span
			font-weight 500
			box-shadow 0 0 1px 0px rgba($gray, 0.33), 0 3px 3px 1px rgba($gray, 0.33)
			display inline-block
			line-height 1
			padding 0.25em 0.5em

	.tooltip
		position absolute
		top 0
		left 0